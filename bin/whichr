# whichr
# reveal executable name in path
require 'rubygems'
require 'sane'
require 'whichr.rb'

if ARGV[0].in? ['--help', '-h']
  puts "syntax: executable_name or glob"
  exit 0
end

all = RubyWhich.new.which(ARGV[0])

for candidate in all
  # might just match the name and not be executable
  candidate = Dir.glob(candidate + '*')[0] if RUBY_PLATFORM =~ /mswin|mingw/ # get the right capitalization in doze
  if File::executable?(candidate)
    print candidate
    if(File.directory?(candidate))
      print ' (is a directory)'
    end
    puts
  elsif File::exist? candidate
    puts candidate + ' (is not executable)'
  end
end
